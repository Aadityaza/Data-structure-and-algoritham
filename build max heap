#include<iostream>
#define max_size 100
using namespace std;

class heap {
    int size = 1;
    int arr[max_size];
public:

    int right(int index) {
        return index * 2 + 1;
    }
    int left(int index) {
        return index * 2;
    }
    int parent(int index) {
        return index / 2;
    }
    void disp() {
        for (int i = 1; i != size; i++) {
            cout << arr[i] << " ";
        }
    }
    void add(int data) {
        arr[size] = data;
        size++;
        this->max_heap();
    }
    void max_heapify(int i) {
        if (arr[right(i)] > arr[left(i)] && arr[right(i)] > arr[i]) {
            int temp = arr[i];
            arr[i] = arr[right(i)];
            arr[right(i)] = temp;
        }
        else if (arr[left(i)] > arr[right(i)] && arr[left(i)] > arr[i]) {
            int temp = arr[i];
            arr[i] = arr[left(i)];
            arr[left(i)] = temp;
        }
    }
    void max_heap() {
        if (size > 2) {
            for (int i = (size / 2); i != 0; i--) {
                max_heapify(i);
            }
        }

    }
};
int main() {
    heap H;
    H.add(40);
    H.add(60);
    H.add(10);
    H.add(20);
    H.add(50);
    H.add(30);


    H.disp();


}
